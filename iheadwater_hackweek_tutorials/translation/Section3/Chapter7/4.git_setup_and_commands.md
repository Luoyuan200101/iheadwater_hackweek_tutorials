# 第4课：开始使用Git命令进行版本控制

## Ⅰ. Git和GitHub的版本控制工作流程

在此之前，已经学会了如何`fork` GitHub 仓库以复制其他用户的仓库，还学会了如何下载 GitHub 仓库的副本（即克隆）到本地电脑上。在这一页，我将学习使用 git 来实现版本控制的三个重要步骤。

- `git add` 对已更改的文件进行版本控制跟踪
- `git commit` 改变文件来创建本地版本库的唯一快照
- `git push`这些改变的文件，从本地仓库的副本到云端（GitHub.com）。

## Ⅱ. 使用 Git 状态检查更改的状态

一旦开始工作，可以使用`git status`命令来检查**git**正在识别哪些变化。为了练习使用这个命令，用**终端**导航到git实践库。

`$ cd practice-git-skillz`

接着，运行`git status`

注意，运行`git status`时，它返回：工作树的清洁————你的版本库中的任何文件都没有变化

接下来，用文本编辑器打开README.md文件并做一个小改动。然后，运行`git status`命令，检查是否对文件进行了修改。

上述`git status`命令的输出表明，已经修改了一个文件（如 `README.md`），可以添加修改到版本控制中

### 1. 向版本控制添加和提交文件更改

要用**git**来跟踪这个文件的变化:

1. 先用`git add`把改动添加到跟踪区（或暂存区）
2. `git commit`变化到版本控制

这两条命令构成了许多使用**git**进行版本控制的工作流程的主体。

- git add：在工作目录中获取一个修改过的文件，并将修改后的版本放在一个暂存区供审查。

- git commit：从暂存区获取所有内容，并为仓库的当前状态制作一个具有唯一标识符的永久快照。

修改过的文件会用git add暂存。然后，在git提交之后，暂存区域的所有文件都被包含在快照中，并成为版本库历史的一部分。

## Ⅲ. 使用git add添加已更改的文件

在进行修改后，可以将单个文件或文件组添加到版本控制跟踪中。要添加单个文件，请运行以下命令。

`git add file-name.extension`

例如，要添加`README.md`文件，可以使用。

`git add README.md`

也可以同时添加所有编辑过的文件，使用

`git add .`

## Ⅳ. 用git commit提交修改过的文件

当从暂存区移出，就可以运行`git commit`。`git commit` 命令需要一个提交信息，描述我们在该提交中所做的改动。

提交信息应该概述哪些地方发生了变化，以及为什么。这些信息:

1. 帮助合作者和未来的自己了解哪些地方被修改了，为什么。
2. 让我们和合作者能够找到（必要时撤销）之前所做的修改。

没有提交大量的修改时，可以使用 -m 标志创建一个简短的单行提交信息，如下所示。

`git commit -m "Update title and author name in homework for week 3"`

每个提交都有一个唯一的标识符（SHA-1哈希值），并包括创建提交时对暂存区文件的所有修改（即用`git add`添加到暂存区的所有文件）

## Ⅴ. 推送修改后的文件到GitHub.com

到目前为止，只修改了仓库的本地副本并完成了对仓库的本地提交。要更新 **GitHub.com** 上的文件，需要把修改的文件推送到 **GitHub.com** 上的仓库。

可以用以下命令把你的改动推送到 **GitHub**:

`git push origin main`

根据设置，我们可能会被要求提供你的 **Github.com** 用户名和密码。推送到 **GitHub.com** 后，访问仓库（例如 `https://github.com/username/repository-name`），注意改动已经反映到那里了

## Ⅵ. 从GitHub.com上拉出修改过的文件到你的克隆Repo上

运行`git clone`会将 git repo的完整副本从github.com复制到本地计算机。它包括所有的.git历史信息，我们将需要这些信息来跟踪你的 repo的变化。**我们只需要运行一次git clone**。运行完git clone后，可以用`git pull`来更新 repo。

还学会了如何使用`git add`和`git commit`来添加和提交变更。

上面的工作流程假定我们总是在本地进行修改，然后把这些修改推送到 GitHub.com 上。然而，有时我们会需要在本地拉取对 repo 所做的修改，对本地原始内容相对远程 repo 进行更新。

1. 打开 bash ，`cd`到你的git repo的位置。
2. 一旦你进入了该版本，运行`git pull`。

在下面的例子中，任何文件都没有变化。`git pull`返回`Already up to date`。

## Ⅶ. 使用git log查看存储库的所有提交内容

当电脑上对仓库进行本地操作时，也可以看到仓库的所有提交列表（即使是那些尚未推送到 **GitHub.com** 的提交！）。

要查看所有提交的列表，可以运行以下命令:

`git log`

它的返回结果类似于下面的内容:

注意，`git log`提供了很多关于提交的有用信息，包括分配给该快照的唯一标识符，提交时提供的消息描述（即`-m`之后的消息）以及提交的日期、时间和作者。

## Ⅷ. 用.gitignore文件告诉 Git 忽略文件

有时在git repo中有些文件是不想被追踪的。例如：

- _DS_STORE or
- .ipynb checkpoint files.

其他时候，仓库里有敏感的文件，永远不想用**git**来追踪，比如API凭证或其他包含个人信息的文件。可以把任何文件类型或名称添加到`.gitignore`文件中，这样**git**就不会追踪它们。这意味着，当运行`git add`或`git status`时，它将不会追踪任何列在`.gitignore`文件中的文件。因此，这些文件将永远不会被添加到 **GitHub.com** 上。

假设有一个名为 `social-security.txt` 的文件，其中包含敏感信息。可以将该文件添加到一个 **.gitignore**文件中。如果仓库中还没有 **.gitignore**文件，可以用文本手动创建，或者使用下面的`bash`命令。

在文本编辑器中打开这个`.gitignore`文件，添加**git**忽略的文件名（不需要其他信息），比如说:

***
social-security.txt
***

任何列在`.gitignore`文件中的文件都会被**git**忽略。也可以通过在`gitignore`文件中添加目录名称来告诉**git**忽略目录（比如忽略一个名为`private-directory`的目录）。

***
private-directory/
***